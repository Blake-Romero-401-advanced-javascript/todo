{"ast":null,"code":"var _jsxFileName = \"/home/bromero/codefellows/401/todo/src/components/todo/todo.js\";\nimport React, { useEffect, useState } from 'react';\nimport TodoForm from './form.js';\nimport TodoList from './list.js';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Nav from 'react-bootstrap/Nav';\nimport Container from 'react-bootstrap/Container'; // import axios from 'axios';\n\nimport useAjax from '../../hooks/use-ajax.js';\nimport './todo.scss';\nexport default function ToDo() {\n  const [list, setList] = useState([]);\n  const [item, setItem] = useState({});\n  const [id, setID] = useState();\n\n  const addItem = item => {\n    item._id = Math.random();\n    item.complete = false;\n    setList([...list, item]);\n    setItem(item);\n    addNewTask(item);\n  };\n\n  const toggleComplete = id => {\n    let item = list.filter(i => i._id === id)[0] || {};\n\n    if (item._id) {\n      item.complete = !item.complete;\n      setItem(item); // let newString = item.complete.toString();\n\n      dbToggleStatus(item);\n      let newList = list.map(listItem => listItem._id === item._id ? item : listItem);\n      setList(newList);\n    }\n  };\n\n  const removeTask = id => {\n    let reducedList = list.filter(i => i._id !== id) || {};\n    setList(reducedList);\n    setID(id);\n    deleteTask(id);\n  };\n\n  const {\n    getStoredTasks\n  } = useAjax(setList, 'http://localhost:3001/api/v1/todos', 'get');\n  const {\n    addNewTask\n  } = useAjax(item, 'http://localhost:3001/api/v1/todos', 'post');\n  const {\n    dbToggleStatus\n  } = useAjax(item, 'http://localhost:3001/api/v1/todos/', 'put');\n  const {\n    deleteTask\n  } = useAjax(id, 'http://localhost:3001/api/v1/todos/', 'delete'); // useEffect(() => {\n  //   let newList = [\n  //     { _id: 1, complete: false, text: 'Clean the Kitchen', difficulty: 3, assignee: 'Person A'},\n  //     { _id: 2, complete: false, text: 'Do the Laundry', difficulty: 2, assignee: 'Person A'},\n  //     { _id: 3, complete: false, text: 'Walk the Dog', difficulty: 4, assignee: 'Person B'},\n  //     { _id: 4, complete: true, text: 'Do Homework', difficulty: 3, assignee: 'Person C'},\n  //     { _id: 5, complete: false, text: 'Take a Nap', difficulty: 1, assignee: 'Person B'},\n  //   ];\n  //   setList(newList);\n  // }, []);\n  // useEffect(() => {\n  //   getStoredTasks();\n  // }, []);\n\n  useEffect(() => {\n    document.title = `To Do List: ${list.filter(item => !item.complete).length}`;\n  }, [list]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    style: hasMargin ? {\n      marginLeft: '0.8rem'\n    } : {},\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    bg: \"dark\",\n    variant: \"dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Nav, {\n    className: \"mr-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Navbar.Brand, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 19\n    }\n  }, \"ToDo List Manager (\", list.filter(item => !item.complete).length, \")\")))))), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TodoForm, {\n    handleSubmit: addItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    md: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TodoList, {\n    list: list,\n    handleComplete: toggleComplete,\n    handleDelete: removeTask,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 15\n    }\n  }))))));\n}","map":{"version":3,"sources":["/home/bromero/codefellows/401/todo/src/components/todo/todo.js"],"names":["React","useEffect","useState","TodoForm","TodoList","Row","Col","Navbar","Nav","Container","useAjax","ToDo","list","setList","item","setItem","id","setID","addItem","_id","Math","random","complete","addNewTask","toggleComplete","filter","i","dbToggleStatus","newList","map","listItem","removeTask","reducedList","deleteTask","getStoredTasks","document","title","length","hasMargin","marginLeft"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAOC,QAAP,MAAqB,WAArB;AAEA,OAAOC,GAAP,MAAgB,qBAAhB;AACA,OAAOC,GAAP,MAAgB,qBAAhB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,GAAP,MAAgB,qBAAhB;AACA,OAAOC,SAAP,MAAsB,2BAAtB,C,CAEA;;AACA,OAAOC,OAAP,MAAoB,yBAApB;AAEA,OAAO,aAAP;AAEA,eAAe,SAASC,IAAT,GAAgB;AAE7B,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBX,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACY,IAAD,EAAOC,OAAP,IAAkBb,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACc,EAAD,EAAKC,KAAL,IAAcf,QAAQ,EAA5B;;AAEA,QAAMgB,OAAO,GAAIJ,IAAD,IAAU;AACxBA,IAAAA,IAAI,CAACK,GAAL,GAAWC,IAAI,CAACC,MAAL,EAAX;AACAP,IAAAA,IAAI,CAACQ,QAAL,GAAgB,KAAhB;AACAT,IAAAA,OAAO,CAAC,CAAC,GAAGD,IAAJ,EAAUE,IAAV,CAAD,CAAP;AACAC,IAAAA,OAAO,CAACD,IAAD,CAAP;AACAS,IAAAA,UAAU,CAACT,IAAD,CAAV;AACD,GAND;;AAQA,QAAMU,cAAc,GAAGR,EAAE,IAAI;AAE3B,QAAIF,IAAI,GAAGF,IAAI,CAACa,MAAL,CAAYC,CAAC,IAAIA,CAAC,CAACP,GAAF,KAAUH,EAA3B,EAA+B,CAA/B,KAAqC,EAAhD;;AAEA,QAAIF,IAAI,CAACK,GAAT,EAAc;AACZL,MAAAA,IAAI,CAACQ,QAAL,GAAgB,CAACR,IAAI,CAACQ,QAAtB;AACAP,MAAAA,OAAO,CAACD,IAAD,CAAP,CAFY,CAGZ;;AACAa,MAAAA,cAAc,CAACb,IAAD,CAAd;AACA,UAAIc,OAAO,GAAGhB,IAAI,CAACiB,GAAL,CAASC,QAAQ,IAAIA,QAAQ,CAACX,GAAT,KAAiBL,IAAI,CAACK,GAAtB,GAA4BL,IAA5B,GAAmCgB,QAAxD,CAAd;AACAjB,MAAAA,OAAO,CAACe,OAAD,CAAP;AACD;AAEF,GAbD;;AAeA,QAAMG,UAAU,GAAGf,EAAE,IAAI;AACvB,QAAIgB,WAAW,GAAGpB,IAAI,CAACa,MAAL,CAAYC,CAAC,IAAIA,CAAC,CAACP,GAAF,KAAUH,EAA3B,KAAkC,EAApD;AACAH,IAAAA,OAAO,CAACmB,WAAD,CAAP;AACAf,IAAAA,KAAK,CAACD,EAAD,CAAL;AACAiB,IAAAA,UAAU,CAACjB,EAAD,CAAV;AACD,GALD;;AAOA,QAAM;AAAEkB,IAAAA;AAAF,MAAqBxB,OAAO,CAACG,OAAD,EAAU,oCAAV,EAAgD,KAAhD,CAAlC;AAEA,QAAM;AAAEU,IAAAA;AAAF,MAAiBb,OAAO,CAACI,IAAD,EAAO,oCAAP,EAA6C,MAA7C,CAA9B;AAEA,QAAM;AAAEa,IAAAA;AAAF,MAAqBjB,OAAO,CAACI,IAAD,EAAO,qCAAP,EAA8C,KAA9C,CAAlC;AAEA,QAAM;AAAEmB,IAAAA;AAAF,MAAiBvB,OAAO,CAACM,EAAD,EAAK,qCAAL,EAA4C,QAA5C,CAA9B,CA1C6B,CA4C7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;;AAEAf,EAAAA,SAAS,CAAC,MAAM;AACdkC,IAAAA,QAAQ,CAACC,KAAT,GAAkB,eAAcxB,IAAI,CAACa,MAAL,CAAYX,IAAI,IAAI,CAACA,IAAI,CAACQ,QAA1B,EAAoCe,MAAO,EAA3E;AACD,GAFQ,EAEN,CAACzB,IAAD,CAFM,CAAT;AAIA,sBACE,uDACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEE;AAAQ,IAAA,KAAK,EAAE0B,SAAS,GAAI;AAAEC,MAAAA,UAAU,EAAE;AAAd,KAAJ,GAAiC,EAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,EAAE,EAAC,MAAX;AAAkB,IAAA,OAAO,EAAC,MAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,GAAD;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD,CAAQ,KAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BACsB3B,IAAI,CAACa,MAAL,CAAYX,IAAI,IAAI,CAACA,IAAI,CAACQ,QAA1B,EAAoCe,MAD1D,MADF,CADF,CADF,CAFF,CADF,CADF,eAkBE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAE,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AAAU,IAAA,YAAY,EAAEnB,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CADF,eAOE,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAE,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AACE,IAAA,IAAI,EAAEN,IADR;AAEE,IAAA,cAAc,EAAEY,cAFlB;AAGE,IAAA,YAAY,EAAEO,UAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CAPF,CAlBF,CADF,CADF;AAyCD","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport TodoForm from './form.js';\nimport TodoList from './list.js';\n\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Nav from 'react-bootstrap/Nav';\nimport Container from 'react-bootstrap/Container';\n\n// import axios from 'axios';\nimport useAjax from '../../hooks/use-ajax.js';\n\nimport './todo.scss';\n\nexport default function ToDo() {\n\n  const [list, setList] = useState([]);\n  const [item, setItem] = useState({});\n  const [id, setID] = useState();\n\n  const addItem = (item) => {\n    item._id = Math.random();\n    item.complete = false;\n    setList([...list, item]);\n    setItem(item);\n    addNewTask(item);\n  };\n\n  const toggleComplete = id => {\n\n    let item = list.filter(i => i._id === id)[0] || {};\n\n    if (item._id) {\n      item.complete = !item.complete;\n      setItem(item);\n      // let newString = item.complete.toString();\n      dbToggleStatus(item);\n      let newList = list.map(listItem => listItem._id === item._id ? item : listItem);\n      setList(newList);\n    }\n\n  };\n\n  const removeTask = id => {\n    let reducedList = list.filter(i => i._id !== id) || {};\n    setList(reducedList);\n    setID(id);\n    deleteTask(id);\n  }\n\n  const { getStoredTasks } = useAjax(setList, 'http://localhost:3001/api/v1/todos', 'get');\n\n  const { addNewTask } = useAjax(item, 'http://localhost:3001/api/v1/todos', 'post');\n\n  const { dbToggleStatus } = useAjax(item, 'http://localhost:3001/api/v1/todos/', 'put');\n\n  const { deleteTask } = useAjax(id, 'http://localhost:3001/api/v1/todos/', 'delete');\n\n  // useEffect(() => {\n  //   let newList = [\n  //     { _id: 1, complete: false, text: 'Clean the Kitchen', difficulty: 3, assignee: 'Person A'},\n  //     { _id: 2, complete: false, text: 'Do the Laundry', difficulty: 2, assignee: 'Person A'},\n  //     { _id: 3, complete: false, text: 'Walk the Dog', difficulty: 4, assignee: 'Person B'},\n  //     { _id: 4, complete: true, text: 'Do Homework', difficulty: 3, assignee: 'Person C'},\n  //     { _id: 5, complete: false, text: 'Take a Nap', difficulty: 1, assignee: 'Person B'},\n  //   ];\n\n  //   setList(newList);\n  // }, []);\n\n  // useEffect(() => {\n  //   getStoredTasks();\n  // }, []);\n\n  useEffect(() => {\n    document.title = `To Do List: ${list.filter(item => !item.complete).length}`\n  }, [list]);\n\n  return (\n    <>\n      <Container>\n        <Row>\n          <Col>\n\n            <header style={hasMargin ? ({ marginLeft: '0.8rem' }) : ({})}>\n              <Navbar bg=\"dark\" variant=\"dark\">\n                <Nav className=\"mr-auto\">\n                  <Navbar.Brand>\n                    ToDo List Manager ({list.filter(item => !item.complete).length})\n                    {/* list.length */}\n                  </Navbar.Brand>\n                </Nav>\n              </Navbar>\n            </header>\n\n          </Col>\n        </Row>\n\n        <Row>\n          <Col md={4}>\n            <div>\n              <TodoForm handleSubmit={addItem} />\n            </div>\n          </Col>\n\n          <Col md={8}>\n            <div>\n              <TodoList\n                list={list}\n                handleComplete={toggleComplete}\n                handleDelete={removeTask}\n              />\n            </div>\n          </Col>\n        </Row>\n          \n      </Container>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}