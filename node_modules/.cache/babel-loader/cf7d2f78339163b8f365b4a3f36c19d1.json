{"ast":null,"code":"var _jsxFileName = \"/home/bromero/codefellows/401/todo/src/components/todo/todo.js\";\nimport React, { useEffect, useState } from 'react';\nimport TodoForm from './form.js';\nimport TodoList from './list.js';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Nav from 'react-bootstrap/Nav';\nimport Container from 'react-bootstrap/Container';\nimport axios from 'axios';\nimport './todo.scss';\n\nfunction ToDo() {\n  const [list, setList] = useState([]); // const [item, setItem] = useState({});\n\n  const addItem = item => {\n    item._id = Math.random();\n    item.complete = false;\n    setList([...list, item]);\n    addNewTask(item);\n  };\n\n  const toggleComplete = id => {\n    let item = list.filter(i => i._id === id)[0] || {};\n\n    if (item._id) {\n      item.complete = !item.complete; // setItem(item);\n\n      let newString = item.complete.toString();\n      dbToggleStatus(newString);\n      let newList = list.map(listItem => listItem._id === item._id ? item : listItem);\n      setList(newList);\n    }\n  };\n\n  async function getStoredTasks() {\n    const response = await axios.get('http://localhost:3001/api/v1/todos');\n    setList(response.data);\n  }\n\n  async function addNewTask(item) {\n    await axios.post('http://localhost:3001/api/v1/todos', {\n      text: item.txt,\n      asignee: item.assignee,\n      complete: item.complete,\n      difficulty: item.difficulty\n    });\n  } // useEffect(() => {\n  //   let newList = [\n  //     { _id: 1, complete: false, text: 'Clean the Kitchen', difficulty: 3, assignee: 'Person A'},\n  //     { _id: 2, complete: false, text: 'Do the Laundry', difficulty: 2, assignee: 'Person A'},\n  //     { _id: 3, complete: false, text: 'Walk the Dog', difficulty: 4, assignee: 'Person B'},\n  //     { _id: 4, complete: true, text: 'Do Homework', difficulty: 3, assignee: 'Person C'},\n  //     { _id: 5, complete: false, text: 'Take a Nap', difficulty: 1, assignee: 'Person B'},\n  //   ];\n  //   setList(newList);\n  // }, []);\n\n\n  useEffect(() => {\n    getStoredTasks();\n  }, []);\n  useEffect(() => {\n    document.title = `To Do List: ${list.length}`;\n  }, [list]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    bg: \"dark\",\n    variant: \"dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Nav, {\n    className: \"mr-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Navbar.Brand, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 19\n    }\n  }, \"ToDo List Manager (\", list.filter(item => !item.complete).length, \")\")))))), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TodoForm, {\n    handleSubmit: addItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    md: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TodoList, {\n    list: list,\n    handleComplete: toggleComplete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 15\n    }\n  }))))));\n}\n\nexport default ToDo;","map":{"version":3,"sources":["/home/bromero/codefellows/401/todo/src/components/todo/todo.js"],"names":["React","useEffect","useState","TodoForm","TodoList","Row","Col","Navbar","Nav","Container","axios","ToDo","list","setList","addItem","item","_id","Math","random","complete","addNewTask","toggleComplete","id","filter","i","newString","toString","dbToggleStatus","newList","map","listItem","getStoredTasks","response","get","data","post","text","txt","asignee","assignee","difficulty","document","title","length"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport TodoForm from './form.js';\nimport TodoList from './list.js';\n\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Nav from 'react-bootstrap/Nav';\nimport Container from 'react-bootstrap/Container';\n\nimport axios from 'axios';\n\nimport './todo.scss';\n\nfunction ToDo() {\n\n  const [list, setList] = useState([]);\n  // const [item, setItem] = useState({});\n\n  const addItem = (item) => {\n    item._id = Math.random();\n    item.complete = false;\n    setList([...list, item]);\n    addNewTask(item);\n  };\n\n  const toggleComplete = id => {\n\n    let item = list.filter(i => i._id === id)[0] || {};\n\n    if (item._id) {\n      item.complete = !item.complete;\n      // setItem(item);\n      let newString = item.complete.toString();\n      dbToggleStatus(newString);\n      let newList = list.map(listItem => listItem._id === item._id ? item : listItem);\n      setList(newList);\n    }\n\n  };\n\n  async function getStoredTasks(){\n    const response = await axios.get('http://localhost:3001/api/v1/todos');\n    setList(response.data);\n  }\n\n  async function addNewTask(item){\n    await axios.post('http://localhost:3001/api/v1/todos', {\n      text: item.txt,\n      asignee: item.assignee,\n      complete: item.complete,\n      difficulty: item.difficulty,\n    });\n  }\n\n  // useEffect(() => {\n  //   let newList = [\n  //     { _id: 1, complete: false, text: 'Clean the Kitchen', difficulty: 3, assignee: 'Person A'},\n  //     { _id: 2, complete: false, text: 'Do the Laundry', difficulty: 2, assignee: 'Person A'},\n  //     { _id: 3, complete: false, text: 'Walk the Dog', difficulty: 4, assignee: 'Person B'},\n  //     { _id: 4, complete: true, text: 'Do Homework', difficulty: 3, assignee: 'Person C'},\n  //     { _id: 5, complete: false, text: 'Take a Nap', difficulty: 1, assignee: 'Person B'},\n  //   ];\n\n  //   setList(newList);\n  // }, []);\n\n  useEffect(() => {\n    getStoredTasks();\n  }, []);\n\n  useEffect(() => {\n    document.title = `To Do List: ${list.length}`\n  }, [list]);\n\n  return (\n    <>\n      <Container>\n        <Row>\n          <Col>\n\n            <header>\n              <Navbar bg=\"dark\" variant=\"dark\">\n                <Nav className=\"mr-auto\">\n                  <Navbar.Brand>\n                    ToDo List Manager ({list.filter(item => !item.complete).length})\n                    {/* list.length */}\n                  </Navbar.Brand>\n                </Nav>\n              </Navbar>\n            </header>\n\n          </Col>\n        </Row>\n\n        <Row>\n          <Col md={4}>\n            <div>\n              <TodoForm handleSubmit={addItem} />\n            </div>\n          </Col>\n\n          <Col md={8}>\n            <div>\n              <TodoList\n                list={list}\n                handleComplete={toggleComplete}\n              />\n            </div>\n          </Col>\n        </Row>\n          \n      </Container>\n    </>\n  );\n}\n\nexport default ToDo;\n"]},"metadata":{},"sourceType":"module"}